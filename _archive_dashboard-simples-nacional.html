<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Simples Nacional</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #F8FAFC;
      color: #1E293B;
    }
    .card {
      background-color: white;
      border-radius: 0.5rem;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border: 1px solid #E2E8F0;
    }
    .dark-mode {
      background-color: #1E293B;
      color: #F1F5F9;
    }
    .dark-mode .card {
      background-color: #334155;
      border-color: #475569;
    }
    .progress-bar {
      height: 8px;
      border-radius: 4px;
      background-color: #E5E7EB;
      overflow: hidden;
    }
    .progress-bar-fill {
      height: 100%;
      border-radius: 4px;
    }
    .circle-progress {
      position: relative;
      width: 200px;
      height: 200px;
    }
    .circle-bg {
      fill: none;
      stroke: #E5E7EB;
      stroke-width: 8;
    }
    .circle-progress-fill {
      fill: none;
      stroke-width: 8;
      stroke-linecap: round;
      transform: rotate(-90deg);
      transform-origin: center;
      transition: stroke-dashoffset 0.5s;
    }
    .circle-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }
  </style>
</head>
<body>
  <div id="app" class="min-h-screen">
    <!-- Cabe√ßalho -->
    <header class="p-6 md:p-8">
      <div class="flex justify-between items-center mb-4">
        <div>
          <h1 class="text-2xl md:text-3xl font-bold">Empresa Exemplo Ltda</h1>
          <div class="flex items-center mt-1 text-sm text-gray-500">
            <i data-lucide="calendar" class="h-4 w-4 mr-1"></i>
            <span>CNPJ: 12.345.678/0001-90</span>
          </div>
        </div>
        <div class="flex gap-2">
          <button id="theme-toggle" class="rounded-full p-2 border border-gray-200">
            <i data-lucide="sun" class="h-4 w-4"></i>
          </button>
          <button class="hidden md:flex px-3 py-1 text-sm border border-gray-200 rounded">
            Vis√£o Detalhada
          </button>
        </div>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div class="card md:col-span-2 p-4">
          <div class="pb-2">
            <h3 class="text-lg flex items-center">
              <i data-lucide="calendar" class="h-5 w-5 mr-2"></i>
              M√™s de Refer√™ncia
            </h3>
            <p class="text-sm text-gray-500">
              Abril/2023
            </p>
          </div>
          <div class="pt-2">
            <div class="text-3xl font-bold">S√£o Paulo - SP</div>
          </div>
        </div>
        
        <div class="card bg-blue-50 border-blue-200 p-4">
          <div class="pb-2">
            <h3 class="text-lg text-blue-700 flex items-center">
              <i data-lucide="dollar-sign" class="h-5 w-5 mr-2"></i>
              Guia de Impostos
            </h3>
          </div>
          <div class="pt-2">
            <div class="text-3xl font-bold text-blue-700">
              R$ 8.136,00
            </div>
            <p class="text-sm text-blue-600 mt-1">
              Vencimento: 20/05/2023
            </p>
          </div>
        </div>
      </div>
    </header>

    <main class="p-6 md:p-8 grid gap-6">
      <!-- Resumo Tribut√°rio -->
      <section>
        <h2 class="text-xl font-bold mb-4">Para Onde Vai Seu Dinheiro</h2>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <div class="card lg:col-span-1">
            <div class="p-4">
              <h3 class="text-lg font-medium">Composi√ß√£o Tribut√°ria</h3>
              <p class="text-sm text-gray-500">Distribui√ß√£o dos impostos</p>
            </div>
            <div class="p-4 pt-0">
              <div class="h-64">
                <canvas id="pieChart"></canvas>
              </div>
            </div>
          </div>
          
          <div class="card lg:col-span-2">
            <div class="p-4">
              <h3 class="text-lg font-medium">Detalhamento por Tributo</h3>
              <p class="text-sm text-gray-500">Valores individuais</p>
            </div>
            <div class="p-4 pt-0">
              <div class="space-y-4" id="tributos-barras">
                <!-- Barras de tributos ser√£o inseridas via JavaScript -->
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Evolu√ß√£o de Receitas e Situa√ß√£o do Limite -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Evolu√ß√£o de Receitas -->
        <div class="card">
          <div class="p-4">
            <h3 class="text-lg flex items-center font-medium">
              <i data-lucide="trending-up" class="h-5 w-5 mr-2"></i>
              Evolu√ß√£o de Faturamento
            </h3>
            <p class="text-sm text-gray-500">√öltimos 6 meses</p>
          </div>
          <div class="p-4 pt-0">
            <div class="h-64">
              <canvas id="barChart"></canvas>
            </div>
          </div>
        </div>

        <!-- Situa√ß√£o do Limite -->
        <div class="card">
          <div class="p-4">
            <h3 class="text-lg flex items-center font-medium">
              <i data-lucide="target" class="h-5 w-5 mr-2"></i>
              Limite do Simples
            </h3>
            <p class="text-sm text-gray-500">Faturamento acumulado 12 meses</p>
          </div>
          <div class="p-4 pt-0 flex flex-col items-center">
            <div class="circle-progress">
              <svg viewBox="0 0 100 100">
                <circle class="circle-bg" cx="50" cy="50" r="40"></circle>
                <circle class="circle-progress-fill" cx="50" cy="50" r="40" 
                  stroke="#10B981" 
                  stroke-dasharray="251.2" 
                  stroke-dashoffset="223.07"></circle>
              </svg>
              <div class="circle-text">
                <div class="text-2xl font-bold">11.2%</div>
                <div class="text-xs text-gray-500">utilizado</div>
              </div>
            </div>
            <div class="text-center mt-4">
              <p class="text-lg font-medium">
                R$ 480.000,00 / R$ 4.800.000,00
              </p>
              <p class="text-sm text-green-600 mt-1">
                R$ 4,2 mi dispon√≠veis
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Insights Inteligentes -->
      <section>
        <h2 class="text-xl font-bold mb-4">Insights Inteligentes</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="card overflow-hidden">
            <div class="h-1 w-full bg-green-500"></div>
            <div class="p-4 pb-2">
              <h3 class="text-lg flex items-center font-medium">
                <span class="mr-2">‚úÖ</span>
                Faturamento crescente
              </h3>
            </div>
            <div class="p-4">
              <p>Aumento de 12% em rela√ß√£o ao m√™s anterior</p>
              <button class="text-blue-600 hover:underline p-0 mt-2">
                Como melhorar?
              </button>
            </div>
          </div>
          
          <div class="card overflow-hidden">
            <div class="h-1 w-full bg-amber-500"></div>
            <div class="p-4 pb-2">
              <h3 class="text-lg flex items-center font-medium">
                <span class="mr-2">üîç</span>
                Economia tribut√°ria
              </h3>
            </div>
            <div class="p-4">
              <p>Poss√≠vel redu√ß√£o de 8% nos impostos com planejamento</p>
              <button class="text-blue-600 hover:underline p-0 mt-2">
                Como melhorar?
              </button>
            </div>
          </div>
          
          <div class="card overflow-hidden">
            <div class="h-1 w-full bg-blue-500"></div>
            <div class="p-4 pb-2">
              <h3 class="text-lg flex items-center font-medium">
                <span class="mr-2">üìà</span>
                Margem de lucro
              </h3>
            </div>
            <div class="p-4">
              <p>Margem atual de 18% est√° acima da m√©dia do setor (15%)</p>
              <button class="text-blue-600 hover:underline p-0 mt-2">
                Como melhorar?
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Se√ß√µes Colaps√°veis -->
      <section class="space-y-4">
        <!-- Detalhes Tribut√°rios -->
        <div class="card">
          <div class="p-4 pb-2 cursor-pointer" onclick="toggleSection('detalhes')">
            <h3 class="text-lg flex items-center justify-between font-medium">
              <span>Detalhes Tribut√°rios</span>
              <i data-lucide="chevron-down" class="h-5 w-5" id="icon-detalhes"></i>
            </h3>
          </div>
          <div class="p-4 hidden" id="section-detalhes">
            <div class="space-y-2">
              <div class="flex justify-between">
                <span>Percentual de Impostos:</span>
                <span class="font-medium">18.08%</span>
              </div>
              <div class="flex justify-between">
                <span>Faixa do Simples:</span>
                <span class="font-medium">3</span>
              </div>
              <div class="flex justify-between">
                <span>Anexo:</span>
                <span class="font-medium">III</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Hist√≥rico Completo -->
        <div class="card">
          <div class="p-4 pb-2 cursor-pointer" onclick="toggleSection('historico')">
            <h3 class="text-lg flex items-center justify-between font-medium">
              <span>Hist√≥rico Completo</span>
              <i data-lucide="chevron-down" class="h-5 w-5" id="icon-historico"></i>
            </h3>
          </div>
          <div class="p-4 hidden" id="section-historico">
            <div class="space-y-2">
              <p>Hist√≥rico de faturamento e impostos dos √∫ltimos 12 meses.</p>
              <button class="flex items-center px-3 py-1 mt-2 text-sm border border-gray-200 rounded">
                <i data-lucide="download" class="h-4 w-4 mr-2"></i>
                Baixar Relat√≥rio Completo
              </button>
            </div>
          </div>
        </div>

        <!-- Comparativo com M√©dia -->
        <div class="card">
          <div class="p-4 pb-2 cursor-pointer" onclick="toggleSection('comparativo')">
            <h3 class="text-lg flex items-center justify-between font-medium">
              <span>Comparativo com M√©dia</span>
              <i data-lucide="chevron-down" class="h-5 w-5" id="icon-comparativo"></i>
            </h3>
          </div>
          <div class="p-4 hidden" id="section-comparativo">
            <div class="space-y-2">
              <p>Seu percentual de impostos est√° 2.3% abaixo da m√©dia do seu setor.</p>
              <button class="flex items-center px-3 py-1 mt-2 text-sm border border-gray-200 rounded">
                <i data-lucide="lightbulb" class="h-4 w-4 mr-2"></i>
                Agendar An√°lise Personalizada
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Elementos de Confian√ßa -->
      <footer class="mt-8 border-t pt-6 text-sm text-gray-500">
        <div class="flex flex-wrap gap-4 justify-between items-center">
          <div class="flex items-center">
            <i data-lucide="shield" class="h-4 w-4 mr-1"></i>
            <span>Dados Oficiais Receita Federal</span>
          </div>
          <div class="flex items-center">
            <i data-lucide="clock" class="h-4 w-4 mr-1"></i>
            <span>Atualizado em: 05/05/2023 √†s 10:32</span>
          </div>
          <div class="flex items-center">
            <i data-lucide="help-circle" class="h-4 w-4 mr-1"></i>
            <a href="#" class="hover:underline">D√∫vidas Frequentes</a>
          </div>
        </div>
      </footer>
    </main>
  </div>

  <script>
    // Inicializar √≠cones Lucide
    lucide.createIcons();

    // Dados mockados
    const mockData = {
      tributos: {
        IRPJ: 1350,
        CSLL: 900,
        COFINS: 1620,
        PIS_PASEP: 351,
        INSS_CPP: 1980,
        ICMS: 810,
        ISS: 1125,
        Total: 8136
      },
      receitas: {
        historicoReceitas: [
          { mes: "Jan", valor: 38000 },
          { mes: "Fev", valor: 42000 },
          { mes: "Mar", valor: 39500 },
          { mes: "Abr", valor: 45000 },
          { mes: "Mai", valor: 41200 },
          { mes: "Jun", valor: 43800 }
        ]
      }
    };

    // Cores para os gr√°ficos
    const CHART_COLORS = {
      IRPJ: "#3B82F6",     // Azul
      CSLL: "#6366F1",     // Azul-roxo
      COFINS: "#8B5CF6",   // Roxo
      PIS_PASEP: "#EC4899", // Rosa
      INSS_CPP: "#F43F5E", // Vermelho
      ICMS: "#F97316",     // Laranja
      ISS: "#F59E0B",      // Amarelo
    };

    // Formatar valores monet√°rios
    function formatCurrency(value) {
      return new Intl.NumberFormat('pt-BR', {
        style: 'currency',
        currency: 'BRL'
      }).format(value);
    }

    // Gr√°fico de Pizza - Composi√ß√£o Tribut√°ria
    const pieCtx = document.getElementById('pieChart').getContext('2d');
    const tributosData = Object.entries(mockData.tributos)
      .filter(([key]) => key !== "Total")
      .map(([key, value]) => ({
        name: key === "PIS_PASEP" ? "PIS" : key === "INSS_CPP" ? "INSS" : key,
        value
      }));

    const pieChart = new Chart(pieCtx, {
      type: 'pie',
      data: {
        labels: tributosData.map(item => item.name),
        datasets: [{
          data: tributosData.map(item => item.value),
          backgroundColor: tributosData.map(item => CHART_COLORS[item.name] || "#6B7280"),
          borderWidth: 1
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'right',
          },
          tooltip: {
            callbacks: {
              label: function(context) {
                const value = context.raw;
                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                const percentage = ((value / total) * 100).toFixed(1);
                return `${formatCurrency(value)} (${percentage}%)`;
              }
            }
          }
        }
      }
    });

    // Barras horizontais - Detalhamento por Tributo
    const tributosBarrasContainer = document.getElementById('tributos-barras');
    tributosData.forEach(item => {
      const percent = (item.value / mockData.tributos.Total) * 100;
      const barHtml = `
        <div class="flex items-center">
          <div class="w-24 font-medium">${item.name}</div>
          <div class="flex-1 mx-2">
            <div class="progress-bar">
              <div class="progress-bar-fill" style="width: ${percent}%; background-color: ${CHART_COLORS[item.name] || "#6B7280"}"></div>
            </div>
          </div>
          <div class="w-24 text-right">${formatCurrency(item.value)}</div>
        </div>
      `;
      tributosBarrasContainer.innerHTML += barHtml;
    });

    // Gr√°fico de Barras - Evolu√ß√£o de Receitas
    const barCtx = document.getElementById('barChart').getContext('2d');
    const barChart = new Chart(barCtx, {
      type: 'bar',
      data: {
        labels: mockData.receitas.historicoReceitas.map(item => item.mes),
        datasets: [{
          label: 'Faturamento',
          data: mockData.receitas.historicoReceitas.map(item => item.valor),
          backgroundColor: '#3B82F6',
          borderRadius: 4,
        }, {
          type: 'line',
          label: 'Tend√™ncia',
          data: mockData.receitas.historicoReceitas.map(item => item.valor),
          borderColor: '#10B981',
          borderWidth: 2,
          fill: false,
          tension: 0.1,
          pointRadius: 0
        }]
      },
      options: {
        responsive: true,
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              callback: function(value) {
                return 'R$ ' + (value / 1000) + 'k';
              }
            }
          }
        },
        plugins: {
          tooltip: {
            callbacks: {
              label: function(context) {
                return formatCurrency(context.raw);
              }
            }
          }
        }
      }
    });

    // Toggle para se√ß√µes colaps√°veis
    function toggleSection(id) {
      const section = document.getElementById('section-' + id);
      const icon = document.getElementById('icon-' + id);
      
      if (section.classList.contains('hidden')) {
        section.classList.remove('hidden');
        icon.setAttribute('data-lucide', 'chevron-up');
      } else {
        section.classList.add('hidden');
        icon.setAttribute('data-lucide', 'chevron-down');
      }
      
      lucide.createIcons();
    }

    // Toggle para modo escuro
    const themeToggle = document.getElementById('theme-toggle');
    const app = document.getElementById('app');
    const themeIcon = themeToggle.querySelector('i');
    
    themeToggle.addEventListener('click', () => {
      app.classList.toggle('dark-mode');
      
      if (app.classList.contains('dark-mode')) {
        themeIcon.setAttribute('data-lucide', 'moon');
      } else {
        themeIcon.setAttribute('data-lucide', 'sun');
      }
      
      lucide.createIcons();
    });
  </script>
</body>
</html>